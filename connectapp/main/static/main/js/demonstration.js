const posts = [
    {
        post_text: "Сегодня я напишу пост о том, как выбрать видеокарту.",
        prompt: "Как выбрать видеокарту?",
        ai_answer: `При выборе видеокарты важно учитывать несколько факторов:
1. Цель использования: если вы играете в современные игры или работаете с графикой, вам подойдет более мощная карта. Для обычного использования или работы с офисными приложениями достаточно менее производительной модели.
2. Производительность: ориентируйтесь на модели с более высокими индексами. Например, карты с индексом 30 или 40 (например, RTX 3060, RTX 4080) – это высокопроизводительные решения для игр и работы с видео.
3. Совместимость с ПК: перед покупкой проверьте размеры видеокарты и ее совместимость с корпусом и материнской платой. Также обратите внимание на наличие нужных разъемов (например, PCIe x16).
4. Объем видеопамяти: для современных игр и графических приложений важно наличие хотя бы 6–8 ГБ видеопамяти, а для работы с 4K и VR — лучше выбирать карты с 10–12 ГБ.
5. Цена: всегда ищите баланс между производительностью и ценой. Мощные карты могут быть дорогими, но для большинства пользователей среднего уровня модели будут отличным выбором.
Таким образом, при выборе видеокарты важно учитывать как ваши нужды, так и совместимость с остальными компонентами ПК.`
    },
    {
        post_text: "В данном посте мы расскажем о удивительной стране Тайланд.",
        prompt: "Продолжите пост.",
        ai_answer: `Таиланд — это страна, которая удивляет своим разнообразием. Вот что стоит увидеть:
1. Пляжи: Таиланд славится своими белоснежными пляжами и кристально чистым морем. Популярные места — Пхукет, Краби и острова Пхи-Пхи.
2. Буддийские храмы: Посетите знаменитые храмы, такие как Ват Арун в Бангкоке или Ват Пхра Кео с изумительным Изумрудным Буддой.
3. Горы и джунгли: В Чианг Мае и его окрестностях вас ждут треккинг, горные деревни и захватывающие виды.
4. Культура и рынки: Прогуляйтесь по рынкам Бангкока, таким как Чатучак, или ночным рынкам в Паттайе — здесь можно найти уникальные товары и местную еду.
5. Животный мир: Зоопарки, сафари-парки и морские аквариумы, например, в Паттайе, позволят вам поближе познакомиться с экзотическими животными.
6. Тайская кухня: Не забудьте попробовать знаменитые блюда — падтай, том-ям, кхао ман кай. Тайская еда — это настоящий гастрономический рай.
Таиланд — это не только курорты и пляжи, но и невероятно богатая культура и природа.`
    },
    {
        post_text: "Гороскоп для Тельцов",
        prompt: "Напишите гороскоп.",
        ai_answer: `Для Тельцов 2025 год гороскоп обещает интересные и важные изменения:
- Общий фон: Этот месяц принесет вам много возможностей для личностного роста. Будьте открыты для новых идей и не бойтесь менять что-то в своей жизни. Важно сохранять баланс между работой и отдыхом, иначе можно легко перегореть.
- Любовь и отношения: В личной жизни стоит обратить внимание на доверие. В отношениях с партнером будет важна открытость и честность. Если вы одиноки, февраль может принести интересные знакомства, которые впоследствии могут перерасти в нечто большее.
- Карьерные вопросы: В работе могут появиться новые проекты или предложения, требующие от вас принятия важных решений. Это хорошее время для того, чтобы продемонстрировать свои способности и взять на себя больше ответственности.
- Здоровье: Это хорошее время для того, чтобы обратить внимание на свое физическое состояние. Возможно, стоит заняться спортом или пересмотреть режим питания. Не забывайте про отдых и заботьтесь о психоэмоциональном состоянии.
В целом, февраль — это месяц, когда Тельцы могут сделать шаги к улучшению своей жизни, особенно в отношениях и карьере.`
    },
    {
        post_text: "Темная башня: Стрелок",
        prompt: "Напишите небольшую рецензию на книгу Стивена Кинга.",
        ai_answer: `«Стрелок» Стивена Кинга — это начало масштабной серии «Тёмная башня», в которой автор смешивает жанры вестерна, фэнтези и ужасов. Главный герой, Роланд, одинокий стрелок, преследует неуловимую Тёмную башню, и на его пути встречаются как реальные угрозы, так и мистические силы. В книге Кинг создает мрачный, но завораживающий мир, наполненный загадками, где каждый поступок Роланда имеет свою цену.

Однако стиль повествования может показаться сложным из-за частых аллюзий, недосказанности и множества неопределенных моментов. Книга оставляет массу вопросов и наводит на размышления, что делает её идеальной для любителей глубоких и многослойных произведений.

«Стрелок» — это увлекательное и загадочное начало эпопеи, которое увлекает атмосферой и философией, но требует терпения и готовности разобраться в сложных сюжетных ходах.`
    },
    {
        post_text: "Пасхалки в фильме Дюна",
        prompt: "Напишите пост по данной теме.",
        ai_answer: `Вот несколько коротких пасхалок из фильма "Дюна" (2021):
1. Голос — отсылка к способностям Бене Гессерит из книги, где героиня может управлять людьми с помощью голоса.
2. Песчаные черви — символ экологии планеты Арракис, важный элемент книги.
3. Скарабей — символика, связанная с природой и ресурсами на Арракисе.
4. Философия и культура — отсылки к исламской культуре и религиозным темам.
5. Визуальные отсылки — стиль, вдохновленный художниками, такими как Джеймс Тёррелл.
6. Предыдущие экранизации — некоторые сцены напоминают фильм Дэвида Линча 1984 года.

Эти элементы помогают углубить атмосферу фильма и сделать его более насыщенным для поклонников книги и других адаптаций.`
    }
];

function getRandomPost() {
    const randomIndex = Math.floor(Math.random() * posts.length);
    return posts[randomIndex];
}

function typeWriter(element, text, speed, callback) {
    let i = 0;
    function typing() {
        if (i < text.length) {
            element.innerHTML += text.charAt(i);
            i++;
            setTimeout(typing, speed);
        } else {
            if (callback) callback();
        }
    }
    typing();
}

function insertRandomPost() {
    const randomPost = getRandomPost();

    document.querySelector('.post-response .message-text').textContent = randomPost['post_text'];

    const userPromptElement = document.querySelector('.user-prompt .message-text');
    typeWriter(userPromptElement, randomPost['prompt'], 100, function() {
        setTimeout(function() {
            document.querySelector('.user-prompt').style.borderRadius = '0';

            const aiAnswerHtml = `
                <div class="message-part ai-answer">
                    <div style="color: #888888">Ответ ИИ</div>
                    <div class="message-text"></div>
                </div>
            `;
            document.querySelector('.chat').insertAdjacentHTML('beforeend', aiAnswerHtml);

            const aiAnswerElement = document.querySelector('.ai-answer .message-text');
            typeWriter(aiAnswerElement, randomPost['ai_answer'], 10);
        }, 1000);
    });
}

let isInsertRandomPostCalled = false;

document.addEventListener('DOMContentLoaded', function() {
    if (window.innerWidth > 1250) {
        isInsertRandomPostCalled = true;
        insertRandomPost();
    }
});

window.addEventListener('scroll', function() {
    if (!isInsertRandomPostCalled && window.innerWidth <= 1250 && window.scrollY > 0) {
        isInsertRandomPostCalled = true;
        insertRandomPost();
    }
});

window.addEventListener('resize', function() {
    if (window.innerWidth > 1250 && !isInsertRandomPostCalled) {
        isInsertRandomPostCalled = true;
        insertRandomPost();
    }
});
